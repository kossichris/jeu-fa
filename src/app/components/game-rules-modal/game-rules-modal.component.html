<!-- Modal Backdrop -->
<div *ngIf="isOpen" 
     class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/75 backdrop-blur-sm animate-fade-in"
     (click)="onBackdropClick($event)"
     (keydown.escape)="onClose()"
     tabindex="0"
     role="dialog"
     aria-modal="true"
     aria-labelledby="modal-title">
  
  <!-- Modal Content -->
  <div class="bg-gradient-to-br from-amber-50 to-orange-50 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden border-2 border-amber-200 animate-modal-enter">
    
    <!-- Modal Header -->
    <div class="bg-gradient-to-r from-amber-600 to-orange-600 text-white p-6 relative">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
              <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
            </svg>
          </div>
          <h2 id="modal-title" class="text-2xl font-bold">R√®gles du Jeu F√†</h2>
        </div>
        <button (click)="onClose()" 
                class="text-white/80 hover:text-white hover:bg-white/20 rounded-full p-2 transition-all duration-200">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Modal Body -->
    <div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)] custom-scrollbar">
      
      <!-- Introduction -->
      <div class="mb-8">
        <h3 class="text-xl font-bold text-amber-800 mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-amber-600 rounded-full"></span>
          Introduction au Jeu F√†
        </h3>
        <p class="text-gray-700 leading-relaxed mb-4">
          Le Jeu F√† est un syst√®me de divination traditionnel d'origine africaine, particuli√®rement pratiqu√© au B√©nin et dans d'autres pays d'Afrique de l'Ouest. 
          Il s'agit d'un art ancestral qui combine spiritualit√©, sagesse et strat√©gie.
        </p>
        <div class="bg-amber-100 border-l-4 border-amber-500 p-4 rounded-r-lg">
          <p class="text-amber-800 italic">
            "Le F√† ne ment jamais, mais il faut savoir l'interpr√©ter avec sagesse."
          </p>
        </div>
      </div>

      <!-- Objectif du jeu -->
      <div class="mb-8">
        <h3 class="text-xl font-bold text-amber-800 mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-orange-600 rounded-full"></span>
          Objectif du Jeu
        </h3>
        <div class="grid md:grid-cols-2 gap-4">
          <div class="bg-white rounded-lg p-4 shadow-md border border-amber-200">
            <h4 class="font-semibold text-orange-700 mb-2">üéØ But Principal</h4>
            <p class="text-gray-600 text-sm">
              Obtenir des r√©ponses aux questions importantes de la vie √† travers l'interpr√©tation des signes du F√†.
            </p>
          </div>
          <div class="bg-white rounded-lg p-4 shadow-md border border-amber-200">
            <h4 class="font-semibold text-orange-700 mb-2">üß† D√©veloppement</h4>
            <p class="text-gray-600 text-sm">
              D√©velopper l'intuition, la sagesse et la capacit√© d'interpr√©tation des symboles.
            </p>
          </div>
        </div>
      </div>

      <!-- Mat√©riel de jeu -->
      <div class="mb-8">
        <h3 class="text-xl font-bold text-amber-800 mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-red-600 rounded-full"></span>
          Mat√©riel de Jeu
        </h3>
        <div class="grid md:grid-cols-3 gap-4">
          <div class="text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-amber-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-3">
              <span class="text-white font-bold text-xl">16</span>
            </div>
            <h4 class="font-semibold text-gray-800">Noix de Palme</h4>
            <p class="text-gray-600 text-sm">Utilis√©es pour la divination traditionnelle</p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-orange-400 to-red-500 rounded-full flex items-center justify-center mx-auto mb-3">
              <span class="text-white font-bold text-xl">256</span>
            </div>
            <h4 class="font-semibold text-gray-800">Signes du F√†</h4>
            <p class="text-gray-600 text-sm">Combinaisons possibles d'interpr√©tation</p>
          </div>
          <div class="text-center">
            <div class="w-16 h-16 bg-gradient-to-br from-red-400 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-3">
              <span class="text-white font-bold text-xl">‚àû</span>
            </div>
            <h4 class="font-semibold text-gray-800">Sagesse</h4>
            <p class="text-gray-600 text-sm">Interpr√©tations infinies selon le contexte</p>
          </div>
        </div>
      </div>

      <!-- D√©roulement -->
      <div class="mb-8">
        <h3 class="text-xl font-bold text-amber-800 mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-green-600 rounded-full"></span>
          D√©roulement d'une S√©ance
        </h3>
        <div class="space-y-4">
          <div class="flex gap-4 items-start">
            <div class="w-8 h-8 bg-amber-500 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0">1</div>
            <div>
              <h4 class="font-semibold text-gray-800">Pr√©paration</h4>
              <p class="text-gray-600 text-sm">Le consultant formule sa question avec pr√©cision et respect.</p>
            </div>
          </div>
          <div class="flex gap-4 items-start">
            <div class="w-8 h-8 bg-orange-500 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0">2</div>
            <div>
              <h4 class="font-semibold text-gray-800">Lancement</h4>
              <p class="text-gray-600 text-sm">Les noix de palme sont manipul√©es selon un rituel pr√©cis.</p>
            </div>
          </div>
          <div class="flex gap-4 items-start">
            <div class="w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0">3</div>
            <div>
              <h4 class="font-semibold text-gray-800">Lecture</h4>
              <p class="text-gray-600 text-sm">Le signe obtenu est identifi√© parmi les 256 possibilit√©s.</p>
            </div>
          </div>
          <div class="flex gap-4 items-start">
            <div class="w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0">4</div>
            <div>
              <h4 class="font-semibold text-gray-800">Interpr√©tation</h4>
              <p class="text-gray-600 text-sm">Le ma√Ætre divulgue la signification adapt√©e au contexte.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Les 16 signes principaux -->
      <div class="mb-8">
        <h3 class="text-xl font-bold text-amber-800 mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-purple-600 rounded-full"></span>
          Les 16 Signes Principaux (Odu)
        </h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Gbe</div>
            <div class="text-xs text-gray-600">Force, Pouvoir</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Yeku</div>
            <div class="text-xs text-gray-600">Mort, Transformation</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Woli</div>
            <div class="text-xs text-gray-600">Maison, Famille</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Di</div>
            <div class="text-xs text-gray-600">Bien-√™tre, Sant√©</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Loso</div>
            <div class="text-xs text-gray-600">Chance, Fortune</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Wlin</div>
            <div class="text-xs text-gray-600">Eau, Emotion</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Abla</div>
            <div class="text-xs text-gray-600">Richesse, Abondance</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Aklan</div>
            <div class="text-xs text-gray-600">Voyage, Mouvement</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Guda</div>
            <div class="text-xs text-gray-600">Perte, Manque</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Sa</div>
            <div class="text-xs text-gray-600">Victoire, Succ√®s</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Ka</div>
            <div class="text-xs text-gray-600">Feu, Passion</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Trukpin</div>
            <div class="text-xs text-gray-600">Mensonge, Tromperie</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Tula</div>
            <div class="text-xs text-gray-600">Paix, Tranquillit√©</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Lete</div>
            <div class="text-xs text-gray-600">Bonheur, Joie</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Tche</div>
            <div class="text-xs text-gray-600">Justice, √âquit√©</div>
          </div>
          <div class="bg-white p-3 rounded-lg border border-amber-200 text-center">
            <div class="font-bold text-amber-700">Fu</div>
            <div class="text-xs text-gray-600">B√©n√©diction, Chance</div>
          </div>
        </div>
      </div>

      <!-- Conseils -->
      <div class="mb-6">
        <h3 class="text-xl font-bold text-amber-800 mb-3 flex items-center gap-2">
          <span class="w-2 h-2 bg-blue-600 rounded-full"></span>
          Conseils pour Bien Jouer
        </h3>
        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-lg border border-blue-200">
          <ul class="space-y-2 text-gray-700">
            <li class="flex items-start gap-2">
              <span class="text-blue-500 font-bold">‚Ä¢</span>
              <span>Approchez-vous du jeu avec respect et s√©rieux</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-blue-500 font-bold">‚Ä¢</span>
              <span>Formulez des questions claires et pr√©cises</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-blue-500 font-bold">‚Ä¢</span>
              <span>√âcoutez votre intuition lors de l'interpr√©tation</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-blue-500 font-bold">‚Ä¢</span>
              <span>Consid√©rez le contexte de votre situation personnelle</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-blue-500 font-bold">‚Ä¢</span>
              <span>Pratiquez r√©guli√®rement pour d√©velopper votre compr√©hension</span>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Modal Footer -->
    <div class="bg-gray-50 p-4 border-t border-gray-200">
      <div class="flex justify-end">
        <button (click)="onClose()" 
                class="bg-gradient-to-r from-amber-500 to-orange-600 hover:from-amber-600 hover:to-orange-700 text-white px-6 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105">
          Fermer
        </button>
      </div>
    </div>
  </div>
</div>
